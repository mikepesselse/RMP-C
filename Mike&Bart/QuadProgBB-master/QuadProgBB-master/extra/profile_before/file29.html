<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for quadprog</title><link rel="stylesheet" href="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">quadprog (77 calls, 2.341 sec)</span><br/><i>Generated 06-Oct-2011 17:14:13 using cpu time.</i><br/>M-function in file /usr/local/apps/matlab78/toolbox/optim/optim/quadprog.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file3.html">quadprogbb</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">39</td></tr><tr><td class="td-linebottomrt"><a href="file42.html">quadprogbb>project</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">38</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line305">305</a></td><td class="td-linebottomrt"><pre>[X,lambdaqp,exitflag,output,du...</pre></td><td class="td-linebottomrt">77</td><td class="td-linebottomrt">1.955 s</td><td class="td-linebottomrt" class="td-linebottomrt">83.5%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=83 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line157">157</a></td><td class="td-linebottomrt"><pre>mtxmpy = optimget(options,'Hes...</pre></td><td class="td-linebottomrt">77</td><td class="td-linebottomrt">0.071 s</td><td class="td-linebottomrt" class="td-linebottomrt">3.0%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line151">151</a></td><td class="td-linebottomrt"><pre>verbosity = 1;</pre></td><td class="td-linebottomrt">77</td><td class="td-linebottomrt">0.071 s</td><td class="td-linebottomrt" class="td-linebottomrt">3.0%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=3 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line205">205</a></td><td class="td-linebottomrt"><pre>if ~isempty(msg)</pre></td><td class="td-linebottomrt">77</td><td class="td-linebottomrt">0.051 s</td><td class="td-linebottomrt" class="td-linebottomrt">2.2%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line341">341</a></td><td class="td-linebottomrt"><pre>if isequal(output.algorithm , ...</pre></td><td class="td-linebottomrt">77</td><td class="td-linebottomrt">0.020 s</td><td class="td-linebottomrt" class="td-linebottomrt">0.9%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.173 s</td><td class="td-linebottomrt">7.4%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=7 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">2.341 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file34.html">qpsub</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">77</td><td class="td-linebottomrt">1.914 s</td><td class="td-linebottomrt">81.7%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=82 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file31.html">optimget</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">385</td><td class="td-linebottomrt">0.051 s</td><td class="td-linebottomrt">2.2%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=2 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file33.html">checkbounds</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">77</td><td class="td-linebottomrt">0.010 s</td><td class="td-linebottomrt">0.4%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file30.html">double.superiorfloat</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">77</td><td class="td-linebottomrt">0 s</td><td class="td-linebottomrt">0%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=0 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.366 s</td><td class="td-linebottomrt">15.7%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=16 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">2.341 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>M-Lint results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line91">91</a></td><td class="td-linebottomrt"><span class="mono">IF might not be aligned with its matching END (line 99).</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line92">92</a></td><td class="td-linebottomrt"><span class="mono">IF might not be aligned with its matching END (line 99).</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line93">93</a></td><td class="td-linebottomrt"><span class="mono">IF might not be aligned with its matching END (line 99).</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line94">94</a></td><td class="td-linebottomrt"><span class="mono">IF might not be aligned with its matching END (line 99).</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line95">95</a></td><td class="td-linebottomrt"><span class="mono">IF might not be aligned with its matching END (line 99).</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line96">96</a></td><td class="td-linebottomrt"><span class="mono">IF might not be aligned with its matching END (line 99).</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line97">97</a></td><td class="td-linebottomrt"><span class="mono">IF might not be aligned with its matching END (line 99).</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">374</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">178</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">196</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">82</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">114</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">41.84 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">   1</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [X,fval,exitflag,output,lambda] = quadprog(H,f,A,B,Aeq,Beq,lb,ub,X0,options,varargin)</span><br/>               <span style="color: #A0A0A0">   2</span> <span style="color: #228B22; background: #FFFFFF;">%QUADPROG Quadratic programming. </span><br/>               <span style="color: #A0A0A0">   3</span> <span style="color: #228B22; background: #FFFFFF;">%   X = QUADPROG(H,f,A,b) attempts to solve the quadratic programming </span><br/>               <span style="color: #A0A0A0">   4</span> <span style="color: #228B22; background: #FFFFFF;">%   problem:</span><br/>               <span style="color: #A0A0A0">   5</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">   6</span> <span style="color: #228B22; background: #FFFFFF;">%            min 0.5*x'*H*x + f'*x   subject to:  A*x &lt;= b </span><br/>               <span style="color: #A0A0A0">   7</span> <span style="color: #228B22; background: #FFFFFF;">%             x    </span><br/>               <span style="color: #A0A0A0">   8</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">   9</span> <span style="color: #228B22; background: #FFFFFF;">%   X = QUADPROG(H,f,A,b,Aeq,beq) solves the problem above while </span><br/>               <span style="color: #A0A0A0">  10</span> <span style="color: #228B22; background: #FFFFFF;">%   additionally satisfying the equality constraints Aeq*x = beq.</span><br/>               <span style="color: #A0A0A0">  11</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  12</span> <span style="color: #228B22; background: #FFFFFF;">%   X = QUADPROG(H,f,A,b,Aeq,beq,LB,UB) defines a set of lower and upper</span><br/>               <span style="color: #A0A0A0">  13</span> <span style="color: #228B22; background: #FFFFFF;">%   bounds on the design variables, X, so that the solution is in the </span><br/>               <span style="color: #A0A0A0">  14</span> <span style="color: #228B22; background: #FFFFFF;">%   range LB &lt;= X &lt;= UB. Use empty matrices for LB and UB if no bounds </span><br/>               <span style="color: #A0A0A0">  15</span> <span style="color: #228B22; background: #FFFFFF;">%   exist. Set LB(i) = -Inf if X(i) is unbounded below; set UB(i) = Inf if </span><br/>               <span style="color: #A0A0A0">  16</span> <span style="color: #228B22; background: #FFFFFF;">%   X(i) is unbounded above.</span><br/>               <span style="color: #A0A0A0">  17</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  18</span> <span style="color: #228B22; background: #FFFFFF;">%   X = QUADPROG(H,f,A,b,Aeq,beq,LB,UB,X0) sets the starting point to X0.</span><br/>               <span style="color: #A0A0A0">  19</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  20</span> <span style="color: #228B22; background: #FFFFFF;">%   X = QUADPROG(H,f,A,b,Aeq,beq,LB,UB,X0,OPTIONS) minimizes with the </span><br/>               <span style="color: #A0A0A0">  21</span> <span style="color: #228B22; background: #FFFFFF;">%   default optimization parameters replaced by values in the structure </span><br/>               <span style="color: #A0A0A0">  22</span> <span style="color: #228B22; background: #FFFFFF;">%   OPTIONS, an argument created with the OPTIMSET function. See OPTIMSET </span><br/>               <span style="color: #A0A0A0">  23</span> <span style="color: #228B22; background: #FFFFFF;">%   for details. Used options are Display, Diagnostics, TolX, TolFun, </span><br/>               <span style="color: #A0A0A0">  24</span> <span style="color: #228B22; background: #FFFFFF;">%   HessMult, LargeScale, MaxIter, PrecondBandWidth, TypicalX, TolPCG, and </span><br/>               <span style="color: #A0A0A0">  25</span> <span style="color: #228B22; background: #FFFFFF;">%   MaxPCGIter. Currently, only 'final' and 'off' are valid values for the </span><br/>               <span style="color: #A0A0A0">  26</span> <span style="color: #228B22; background: #FFFFFF;">%   parameter Display ('iter' is not available).</span><br/>               <span style="color: #A0A0A0">  27</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  28</span> <span style="color: #228B22; background: #FFFFFF;">%   X = QUADPROG(PROBLEM) finds the minimum for PROBLEM. PROBLEM is a</span><br/>               <span style="color: #A0A0A0">  29</span> <span style="color: #228B22; background: #FFFFFF;">%   structure with matrix 'H' in PROBLEM.H, the vector 'f' in PROBLEM.f,</span><br/>               <span style="color: #A0A0A0">  30</span> <span style="color: #228B22; background: #FFFFFF;">%   the linear inequality constraints in PROBLEM.Aineq and PROBLEM.bineq,</span><br/>               <span style="color: #A0A0A0">  31</span> <span style="color: #228B22; background: #FFFFFF;">%   the linear equality constraints in PROBLEM.Aeq and PROBLEM.beq, the</span><br/>               <span style="color: #A0A0A0">  32</span> <span style="color: #228B22; background: #FFFFFF;">%   lower bounds in PROBLEM.lb, the upper bounds in PROBLEM.ub, the start</span><br/>               <span style="color: #A0A0A0">  33</span> <span style="color: #228B22; background: #FFFFFF;">%   point in PROBLEM.x0, the options structure in PROBLEM.options, and </span><br/>               <span style="color: #A0A0A0">  34</span> <span style="color: #228B22; background: #FFFFFF;">%   solver name 'quadprog' in PROBLEM.solver. Use this syntax to solve at </span><br/>               <span style="color: #A0A0A0">  35</span> <span style="color: #228B22; background: #FFFFFF;">%   the command line a problem exported from OPTIMTOOL. The structure </span><br/>               <span style="color: #A0A0A0">  36</span> <span style="color: #228B22; background: #FFFFFF;">%   PROBLEM must have all the fields. </span><br/>               <span style="color: #A0A0A0">  37</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  38</span> <span style="color: #228B22; background: #FFFFFF;">%   [X,FVAL] = QUADPROG(H,f,A,b) returns the value of the objective </span><br/>               <span style="color: #A0A0A0">  39</span> <span style="color: #228B22; background: #FFFFFF;">%   function at X: FVAL = 0.5*X'*H*X + f'*X.</span><br/>               <span style="color: #A0A0A0">  40</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  41</span> <span style="color: #228B22; background: #FFFFFF;">%   [X,FVAL,EXITFLAG] = QUADPROG(H,f,A,b) returns an EXITFLAG that </span><br/>               <span style="color: #A0A0A0">  42</span> <span style="color: #228B22; background: #FFFFFF;">%   describes the exit condition of QUADPROG. Possible values of EXITFLAG </span><br/>               <span style="color: #A0A0A0">  43</span> <span style="color: #228B22; background: #FFFFFF;">%   and the corresponding exit conditions are</span><br/>               <span style="color: #A0A0A0">  44</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  45</span> <span style="color: #228B22; background: #FFFFFF;">%     1  QUADPROG converged with a solution X.</span><br/>               <span style="color: #A0A0A0">  46</span> <span style="color: #228B22; background: #FFFFFF;">%     3  Change in objective function value smaller than the specified </span><br/>               <span style="color: #A0A0A0">  47</span> <span style="color: #228B22; background: #FFFFFF;">%         tolerance.</span><br/>               <span style="color: #A0A0A0">  48</span> <span style="color: #228B22; background: #FFFFFF;">%     4  Local minimizer found.</span><br/>               <span style="color: #A0A0A0">  49</span> <span style="color: #228B22; background: #FFFFFF;">%     0  Maximum number of iterations exceeded.</span><br/>               <span style="color: #A0A0A0">  50</span> <span style="color: #228B22; background: #FFFFFF;">%    -2  No feasible point found.</span><br/>               <span style="color: #A0A0A0">  51</span> <span style="color: #228B22; background: #FFFFFF;">%    -3  Problem is unbounded.</span><br/>               <span style="color: #A0A0A0">  52</span> <span style="color: #228B22; background: #FFFFFF;">%    -4  Current search direction is not a descent direction; no further </span><br/>               <span style="color: #A0A0A0">  53</span> <span style="color: #228B22; background: #FFFFFF;">%         progress can be made.</span><br/>               <span style="color: #A0A0A0">  54</span> <span style="color: #228B22; background: #FFFFFF;">%    -7  Magnitude of search direction became too small; no further </span><br/>               <span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">%         progress can be made. The problem is ill-posed or badly </span><br/>               <span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;">%         conditioned.</span><br/>               <span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">%   [X,FVAL,EXITFLAG,OUTPUT] = QUADPROG(H,f,A,b) returns a structure</span><br/>               <span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;">%   OUTPUT with the number of iterations taken in OUTPUT.iterations,</span><br/>               <span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">%   the type of algorithm used in OUTPUT.algorithm, the number of conjugate</span><br/>               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">%   gradient iterations (if used) in OUTPUT.cgiterations, a measure of </span><br/>               <span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">%   first order optimality (large-scale method only) in </span><br/>               <span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">%   OUTPUT.firstorderopt, and the exit message in OUTPUT.message.</span><br/>               <span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;">%   [X,FVAL,EXITFLAG,OUTPUT,LAMBDA] = QUADPROG(H,f,A,b) returns the set of </span><br/>               <span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;">%   Lagrangian multipliers LAMBDA, at the solution: LAMBDA.ineqlin for the </span><br/>               <span style="color: #A0A0A0">  67</span> <span style="color: #228B22; background: #FFFFFF;">%   linear inequalities A, LAMBDA.eqlin for the linear equalities Aeq, </span><br/>               <span style="color: #A0A0A0">  68</span> <span style="color: #228B22; background: #FFFFFF;">%   LAMBDA.lower for LB, and LAMBDA.upper for UB.</span><br/>               <span style="color: #A0A0A0">  69</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  70</span> <span style="color: #228B22; background: #FFFFFF;">%   See also LINPROG, LSQLIN.</span><br/>               <span style="color: #A0A0A0">  71</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  72</span> <span style="color: #228B22; background: #FFFFFF;">%   Copyright 1990-2008 The MathWorks, Inc.</span><br/>               <span style="color: #A0A0A0">  73</span> <span style="color: #228B22; background: #FFFFFF;">%   $Revision: 1.1.6.8 $  $Date: 2008/10/31 06:25:27 $</span><br/>               <span style="color: #A0A0A0">  74</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  75</span> <span style="color: #228B22; background: #FFFFFF;">% Handle missing arguments</span><br/>               <span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold">  77</span> <span style="color: #000000; background: #FFFFFF;">defaultopt = struct('Display','final','Diagnostics','off',... </span><br/>               <span style="color: #A0A0A0">  78</span> <span style="color: #000000; background: #FFFFFF;">   'HessMult',[],... % must be [] by default</span><br/>               <span style="color: #A0A0A0">  79</span> <span style="color: #000000; background: #FFFFFF;">   'TolX',100*eps,'TolFun',100*eps,...</span><br/>               <span style="color: #A0A0A0">  80</span> <span style="color: #000000; background: #FFFFFF;">   'LargeScale','on','MaxIter',200,...</span><br/>               <span style="color: #A0A0A0">  81</span> <span style="color: #000000; background: #FFFFFF;">   'PrecondBandWidth',0,'TypicalX','ones(numberOfVariables,1)',...</span><br/>               <span style="color: #A0A0A0">  82</span> <span style="color: #000000; background: #FFFFFF;">   'TolPCG',0.1,'MaxPCGIter','max(1,floor(numberOfVariables/2))');</span><br/>               <span style="color: #A0A0A0">  83</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  84</span> <span style="color: #228B22; background: #FFFFFF;">% If just 'defaults' passed in, return the default options in X</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold">  85</span> <span style="color: #000000; background: #FFFFFF;">if nargin==1 &amp;&amp; nargout &lt;= 1 &amp;&amp; isequal(H,'defaults') </span><br/>               <span style="color: #A0A0A0">  86</span> <span style="color: #A0A0A0; background: #FFFFFF;">   X = defaultopt;</span><br/>               <span style="color: #A0A0A0">  87</span> <span style="color: #A0A0A0; background: #FFFFFF;">   return</span><br/>               <span style="color: #A0A0A0">  88</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">  89</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">  90</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><a name="Line91"></a>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold">  91</span> <span style="color: #000000; background: #FFFFFF;">if nargin &lt; 10, options =[]; </span><br/><a name="Line92"></a>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold">  92</span> <span style="color: #000000; background: #FFFFFF;">   if nargin &lt; 9, X0 = [];  </span><br/><a name="Line93"></a>       <span style="color: #0000FF">     39 </span><span style="color: #000000; font-weight: bold">  93</span> <span style="color: #000000; background: #FFFFFF;">      if nargin &lt; 8, ub = [];  </span><br/><a name="Line94"></a>               <span style="color: #A0A0A0">  94</span> <span style="color: #A0A0A0; background: #FFFFFF;">         if nargin &lt; 7, lb = []; </span><br/><a name="Line95"></a>               <span style="color: #A0A0A0">  95</span> <span style="color: #A0A0A0; background: #FFFFFF;">            if nargin &lt; 6, Beq = []; </span><br/><a name="Line96"></a>               <span style="color: #A0A0A0">  96</span> <span style="color: #A0A0A0; background: #FFFFFF;">               if nargin &lt; 5, Aeq = [];</span><br/><a name="Line97"></a>               <span style="color: #A0A0A0">  97</span> <span style="color: #A0A0A0; background: #FFFFFF;">                  if nargin &lt; 4, B = [];</span><br/>               <span style="color: #A0A0A0">  98</span> <span style="color: #A0A0A0; background: #FFFFFF;">                     if nargin &lt; 3, A = [];</span><br/>               <span style="color: #A0A0A0">  99</span> <span style="color: #A0A0A0; background: #FFFFFF;">                     end, end, end, end, end, end, end, end</span><br/>               <span style="color: #A0A0A0"> 100</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 101</span> <span style="color: #228B22; background: #FFFFFF;">% Detect problem structure input</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 102</span> <span style="color: #000000; background: #FFFFFF;">if nargin == 1 </span><br/>               <span style="color: #A0A0A0"> 103</span> <span style="color: #A0A0A0; background: #FFFFFF;">   if isa(H,'struct')</span><br/>               <span style="color: #A0A0A0"> 104</span> <span style="color: #A0A0A0; background: #FFFFFF;">       [H,f,A,B,Aeq,Beq,lb,ub,X0,options] = separateOptimStruct(H);</span><br/>               <span style="color: #A0A0A0"> 105</span> <span style="color: #228B22; background: #FFFFFF;">   else % Single input and non-structure.</span><br/>               <span style="color: #A0A0A0"> 106</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error('optim:quadprog:InputArg','The input to QUADPROG should be either a structure with valid fields or consist of at least two arguments.');</span><br/>               <span style="color: #A0A0A0"> 107</span> <span style="color: #A0A0A0; background: #FFFFFF;">   end</span><br/>               <span style="color: #A0A0A0"> 108</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 109</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 110</span> <span style="color: #000000; background: #FFFFFF;">if nargin == 0  </span><br/>               <span style="color: #A0A0A0"> 111</span> <span style="color: #A0A0A0; background: #FFFFFF;">   error('optim:quadprog:NotEnoughInputs', ...</span><br/>               <span style="color: #A0A0A0"> 112</span> <span style="color: #A0A0A0; background: #FFFFFF;">         'QUADPROG requires at least two input arguments.')</span><br/>               <span style="color: #A0A0A0"> 113</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 114</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 115</span> <span style="color: #228B22; background: #FFFFFF;">% Check for non-double inputs</span><br/>               <span style="color: #A0A0A0"> 116</span> <span style="color: #228B22; background: #FFFFFF;">% SUPERIORFLOAT errors when superior input is neither single nor double;</span><br/>               <span style="color: #A0A0A0"> 117</span> <span style="color: #228B22; background: #FFFFFF;">% We use try-catch to override SUPERIORFLOAT's error message when input</span><br/>               <span style="color: #A0A0A0"> 118</span> <span style="color: #228B22; background: #FFFFFF;">% data type is integer.</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 119</span> <span style="color: #000000; background: #FFFFFF;">try </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 120</span> <span style="color: #000000; background: #FFFFFF;">    dataType = superiorfloat(H,f,A,B,Aeq,Beq,lb,ub,X0); </span><br/>               <span style="color: #A0A0A0"> 121</span> <span style="color: #A0A0A0; background: #FFFFFF;">catch ME</span><br/>               <span style="color: #A0A0A0"> 122</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if strcmp(ME.identifier,'MATLAB:datatypes:superiorfloat')</span><br/>               <span style="color: #A0A0A0"> 123</span> <span style="color: #A0A0A0; background: #FFFFFF;">        dataType = 'notDouble';</span><br/>               <span style="color: #A0A0A0"> 124</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 125</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 126</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 127</span> <span style="color: #000000; background: #FFFFFF;">if ~strcmp(dataType,'double') </span><br/>               <span style="color: #A0A0A0"> 128</span> <span style="color: #A0A0A0; background: #FFFFFF;">    error('optim:quadprog:NonDoubleInput', ...</span><br/>               <span style="color: #A0A0A0"> 129</span> <span style="color: #A0A0A0; background: #FFFFFF;">        'QUADPROG only accepts inputs of data type double.')</span><br/>               <span style="color: #A0A0A0"> 130</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 131</span> <span style="color: #228B22; background: #FFFFFF;">                     </span><br/>               <span style="color: #A0A0A0"> 132</span> <span style="color: #228B22; background: #FFFFFF;">% Set up constant strings</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 133</span> <span style="color: #000000; background: #FFFFFF;">medium =  'medium-scale: active-set'; </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 134</span> <span style="color: #000000; background: #FFFFFF;">large = 'large-scale'; </span><br/>               <span style="color: #A0A0A0"> 135</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 136</span> <span style="color: #000000; background: #FFFFFF;">if nargout &gt; 4 </span><br/>               <span style="color: #A0A0A0"> 137</span> <span style="color: #A0A0A0; background: #FFFFFF;">   computeLambda = 1;</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 138</span> <span style="color: #228B22; background: #FFFFFF;">else  </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 139</span> <span style="color: #000000; background: #FFFFFF;">   computeLambda = 0; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 140</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 141</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 142</span> <span style="color: #228B22; background: #FFFFFF;">% Options setup</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 143</span> <span style="color: #000000; background: #FFFFFF;">largescale = isequal(<a href="file31.html">optimget</a>(options,'LargeScale',defaultopt,'fast'),'on'); </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 144</span> <span style="color: #000000; background: #FFFFFF;">diagnostics = isequal(<a href="file31.html">optimget</a>(options,'Diagnostics',defaultopt,'fast'),'on'); </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 145</span> <span style="color: #000000; background: #FFFFFF;">switch <a href="file31.html">optimget</a>(options,'Display',defaultopt,'fast') </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 146</span> <span style="color: #000000; background: #FFFFFF;">case {'off', 'none'} </span><br/>               <span style="color: #A0A0A0"> 147</span> <span style="color: #A0A0A0; background: #FFFFFF;">   verbosity = 0;</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 148</span> <span style="color: #000000; background: #FFFFFF;">case {'iter','iter-detailed'} </span><br/>               <span style="color: #A0A0A0"> 149</span> <span style="color: #A0A0A0; background: #FFFFFF;">   verbosity = 2;</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 150</span> <span style="color: #000000; background: #FFFFFF;">case {'final','final-detailed'} </span><br/><span style="color: #FF0000">  0.07 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 151</span> <a name="Line151"></a><span style="color: #000000; background: #FFFFFF;">   verbosity = 1; </span><br/>               <span style="color: #A0A0A0"> 152</span> <span style="color: #A0A0A0; background: #FFFFFF;">case 'testing'</span><br/>               <span style="color: #A0A0A0"> 153</span> <span style="color: #A0A0A0; background: #FFFFFF;">   verbosity = Inf;</span><br/>               <span style="color: #A0A0A0"> 154</span> <span style="color: #A0A0A0; background: #FFFFFF;">otherwise</span><br/>               <span style="color: #A0A0A0"> 155</span> <span style="color: #A0A0A0; background: #FFFFFF;">   verbosity = 1;</span><br/>               <span style="color: #A0A0A0"> 156</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/><span style="color: #FF0000">  0.07 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 157</span> <a name="Line157"></a><span style="color: #000000; background: #FFFFFF;">mtxmpy = <a href="file31.html">optimget</a>(options,'HessMult',defaultopt,'fast'); </span><br/>               <span style="color: #A0A0A0"> 158</span> <span style="color: #228B22; background: #FFFFFF;">% check if name clash</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 159</span> <span style="color: #000000; background: #FFFFFF;">if isequal(mtxmpy,'hmult') </span><br/>               <span style="color: #A0A0A0"> 160</span> <span style="color: #A0A0A0; background: #FFFFFF;">   warning('optim:quadprog:HessMultNameClash', ...</span><br/>               <span style="color: #A0A0A0"> 161</span> <span style="color: #A0A0A0; background: #FFFFFF;">           ['Potential function name clash with a Toolbox helper function:\n' ...</span><br/>               <span style="color: #A0A0A0"> 162</span> <span style="color: #A0A0A0; background: #FFFFFF;">            'Use a name besides ''hmult'' for your HessMult function to\n' ...</span><br/>               <span style="color: #A0A0A0"> 163</span> <span style="color: #A0A0A0; background: #FFFFFF;">            'avoid errors or unexpected results.'])</span><br/>               <span style="color: #A0A0A0"> 164</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 165</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 166</span> <span style="color: #228B22; background: #FFFFFF;">% Set the constraints up: defaults and check size</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 167</span> <span style="color: #000000; background: #FFFFFF;">[nineqcstr,numberOfVariablesineq]=size(A); </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 168</span> <span style="color: #000000; background: #FFFFFF;">[neqcstr,numberOfVariableseq]=size(Aeq); </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 169</span> <span style="color: #000000; background: #FFFFFF;">if isa(H,'double') &amp;&amp; ( isempty(mtxmpy) ) </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 170</span> <span style="color: #000000; background: #FFFFFF;">   lengthH = length(H); </span><br/>               <span style="color: #A0A0A0"> 171</span> <span style="color: #228B22; background: #FFFFFF;">else % HessMult in effect, so H can be anything</span><br/>               <span style="color: #A0A0A0"> 172</span> <span style="color: #A0A0A0; background: #FFFFFF;">   lengthH = 0;</span><br/>               <span style="color: #A0A0A0"> 173</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 174</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 175</span> <span style="color: #000000; background: #FFFFFF;">numberOfVariables = ... </span><br/>               <span style="color: #A0A0A0"> 176</span> <span style="color: #000000; background: #FFFFFF;">    max([length(f),lengthH,numberOfVariablesineq,numberOfVariableseq]); % In case A or Aeq is empty</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 177</span> <span style="color: #000000; background: #FFFFFF;">ncstr = nineqcstr + neqcstr; </span><br/>               <span style="color: #A0A0A0"> 178</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 179</span> <span style="color: #000000; background: #FFFFFF;">if isempty(f), f=zeros(numberOfVariables,1); end </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 180</span> <span style="color: #000000; background: #FFFFFF;">if isempty(A), A=zeros(0,numberOfVariables); end </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 181</span> <span style="color: #000000; background: #FFFFFF;">if isempty(B), B=zeros(0,1); end </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 182</span> <span style="color: #000000; background: #FFFFFF;">if isempty(Aeq), Aeq=zeros(0,numberOfVariables); end </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 183</span> <span style="color: #000000; background: #FFFFFF;">if isempty(Beq), Beq=zeros(0,1); end </span><br/>               <span style="color: #A0A0A0"> 184</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 185</span> <span style="color: #228B22; background: #FFFFFF;">% Expect vectors</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 186</span> <span style="color: #000000; background: #FFFFFF;">f=f(:); </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 187</span> <span style="color: #000000; background: #FFFFFF;">B=B(:); </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 188</span> <span style="color: #000000; background: #FFFFFF;">Beq=Beq(:); </span><br/>               <span style="color: #A0A0A0"> 189</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 190</span> <span style="color: #000000; background: #FFFFFF;">if ~isequal(length(B),nineqcstr) </span><br/>               <span style="color: #A0A0A0"> 191</span> <span style="color: #A0A0A0; background: #FFFFFF;">    error('optim:quadprog:InvalidSizesOfAAndB', ...</span><br/>               <span style="color: #A0A0A0"> 192</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'The number of rows in A must be the same as the length of b.')</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 193</span> <span style="color: #000000; background: #FFFFFF;">elseif ~isequal(length(Beq),neqcstr) </span><br/>               <span style="color: #A0A0A0"> 194</span> <span style="color: #A0A0A0; background: #FFFFFF;">    error('optim:quadprog:InvalidSizesOfAeqAndBeq', ...</span><br/>               <span style="color: #A0A0A0"> 195</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'The number of rows in Aeq must be the same as the length of beq.')</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 196</span> <span style="color: #000000; background: #FFFFFF;">elseif ~isequal(length(f),numberOfVariablesineq) &amp;&amp; ~isempty(A) </span><br/>               <span style="color: #A0A0A0"> 197</span> <span style="color: #A0A0A0; background: #FFFFFF;">    error('optim:quadprog:InvalidSizesOfAAndF', ...</span><br/>               <span style="color: #A0A0A0"> 198</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'The number of columns in A must be the same as the length of f.')</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 199</span> <span style="color: #000000; background: #FFFFFF;">elseif ~isequal(length(f),numberOfVariableseq) &amp;&amp; ~isempty(Aeq) </span><br/>               <span style="color: #A0A0A0"> 200</span> <span style="color: #A0A0A0; background: #FFFFFF;">    error('optim:quadprog:InvalidSizesOfAeqAndf', ...</span><br/>               <span style="color: #A0A0A0"> 201</span> <span style="color: #A0A0A0; background: #FFFFFF;">          'The number of columns in Aeq must be the same as the length of f.')</span><br/>               <span style="color: #A0A0A0"> 202</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 203</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 204</span> <span style="color: #000000; background: #FFFFFF;">[X0,lb,ub,msg] = <a href="file33.html">checkbounds</a>(X0,lb,ub,numberOfVariables); </span><br/><span style="color: #FF0000">  0.05 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 205</span> <a name="Line205"></a><span style="color: #000000; background: #FFFFFF;">if ~isempty(msg) </span><br/>               <span style="color: #A0A0A0"> 206</span> <span style="color: #A0A0A0; background: #FFFFFF;">   exitflag = -2;</span><br/>               <span style="color: #A0A0A0"> 207</span> <span style="color: #A0A0A0; background: #FFFFFF;">   X=X0; fval = []; lambda = [];</span><br/>               <span style="color: #A0A0A0"> 208</span> <span style="color: #A0A0A0; background: #FFFFFF;">   output.iterations = 0;</span><br/>               <span style="color: #A0A0A0"> 209</span> <span style="color: #A0A0A0; background: #FFFFFF;">   output.algorithm = ''; % Not known at this stage</span><br/>               <span style="color: #A0A0A0"> 210</span> <span style="color: #A0A0A0; background: #FFFFFF;">   output.firstorderopt = [];</span><br/>               <span style="color: #A0A0A0"> 211</span> <span style="color: #A0A0A0; background: #FFFFFF;">   output.cgiterations = []; </span><br/>               <span style="color: #A0A0A0"> 212</span> <span style="color: #A0A0A0; background: #FFFFFF;">   output.message = msg;</span><br/>               <span style="color: #A0A0A0"> 213</span> <span style="color: #A0A0A0; background: #FFFFFF;">   if verbosity &gt; 0</span><br/>               <span style="color: #A0A0A0"> 214</span> <span style="color: #A0A0A0; background: #FFFFFF;">      disp(msg)</span><br/>               <span style="color: #A0A0A0"> 215</span> <span style="color: #A0A0A0; background: #FFFFFF;">   end</span><br/>               <span style="color: #A0A0A0"> 216</span> <span style="color: #A0A0A0; background: #FFFFFF;">   return</span><br/>               <span style="color: #A0A0A0"> 217</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 218</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 219</span> <span style="color: #000000; background: #FFFFFF;">caller = 'quadprog'; </span><br/>               <span style="color: #A0A0A0"> 220</span> <span style="color: #228B22; background: #FFFFFF;">% Check out H and make sure it isn't empty or all zeros</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 221</span> <span style="color: #000000; background: #FFFFFF;">if isa(H,'double') &amp;&amp; isempty(mtxmpy) </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 222</span> <span style="color: #000000; background: #FFFFFF;">   if norm(H,'inf')==0 || isempty(H) </span><br/>               <span style="color: #A0A0A0"> 223</span> <span style="color: #228B22; background: #FFFFFF;">      % Really a lp problem</span><br/>               <span style="color: #A0A0A0"> 224</span> <span style="color: #A0A0A0; background: #FFFFFF;">      warning('optim:quadprog:NullHessian', ...</span><br/>               <span style="color: #A0A0A0"> 225</span> <span style="color: #A0A0A0; background: #FFFFFF;">              'Hessian is empty or all zero; calling LINPROG.')</span><br/>               <span style="color: #A0A0A0"> 226</span> <span style="color: #A0A0A0; background: #FFFFFF;">      [X,fval,exitflag,output,lambda]=linprog(f,A,B,Aeq,Beq,lb,ub,X0,options);</span><br/>               <span style="color: #A0A0A0"> 227</span> <span style="color: #A0A0A0; background: #FFFFFF;">      return</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 228</span> <span style="color: #228B22; background: #FFFFFF;">   else </span><br/>               <span style="color: #A0A0A0"> 229</span> <span style="color: #228B22; background: #FFFFFF;">      % Make sure it is symmetric</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 230</span> <span style="color: #000000; background: #FFFFFF;">      if norm(H-H',inf) &gt; eps </span><br/>               <span style="color: #A0A0A0"> 231</span> <span style="color: #A0A0A0; background: #FFFFFF;">         if verbosity &gt; -1</span><br/>               <span style="color: #A0A0A0"> 232</span> <span style="color: #A0A0A0; background: #FFFFFF;">            warning('optim:quadprog:HessianNotSym', ...</span><br/>               <span style="color: #A0A0A0"> 233</span> <span style="color: #A0A0A0; background: #FFFFFF;">                    'Your Hessian is not symmetric. Resetting H=(H+H'')/2.')</span><br/>               <span style="color: #A0A0A0"> 234</span> <span style="color: #A0A0A0; background: #FFFFFF;">         end</span><br/>               <span style="color: #A0A0A0"> 235</span> <span style="color: #A0A0A0; background: #FFFFFF;">         H = (H+H')*0.5;</span><br/>               <span style="color: #A0A0A0"> 236</span> <span style="color: #A0A0A0; background: #FFFFFF;">      end</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 237</span> <span style="color: #000000; background: #FFFFFF;">   end </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 238</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0"> 239</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 240</span> <span style="color: #228B22; background: #FFFFFF;">% Use large-scale algorithm or not?</span><br/>               <span style="color: #A0A0A0"> 241</span> <span style="color: #228B22; background: #FFFFFF;">% Determine which algorithm and make sure problem matches.</span><br/>               <span style="color: #A0A0A0"> 242</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 243</span> <span style="color: #228B22; background: #FFFFFF;">%    If any inequalities, </span><br/>               <span style="color: #A0A0A0"> 244</span> <span style="color: #228B22; background: #FFFFFF;">%    or both equalities and bounds, </span><br/>               <span style="color: #A0A0A0"> 245</span> <span style="color: #228B22; background: #FFFFFF;">%    or more equalities than variables,</span><br/>               <span style="color: #A0A0A0"> 246</span> <span style="color: #228B22; background: #FFFFFF;">%    or no equalities and no bounds and no inequalities</span><br/>               <span style="color: #A0A0A0"> 247</span> <span style="color: #228B22; background: #FFFFFF;">%    or asked for active set (~largescale) then call qpsub</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 248</span> <span style="color: #000000; background: #FFFFFF;">if ( (nineqcstr &gt; 0) || ... </span><br/>               <span style="color: #A0A0A0"> 249</span> <span style="color: #000000; background: #FFFFFF;">      ( neqcstr &gt; 0 &amp;&amp; (sum(~isinf(ub))&gt;0 || sum(~isinf(lb)) &gt; 0)) || ...</span><br/>               <span style="color: #A0A0A0"> 250</span> <span style="color: #000000; background: #FFFFFF;">      (neqcstr &gt; numberOfVariables) || ...</span><br/>               <span style="color: #A0A0A0"> 251</span> <span style="color: #000000; background: #FFFFFF;">      (neqcstr==0 &amp;&amp; nineqcstr==0 &amp;&amp; ... </span><br/>               <span style="color: #A0A0A0"> 252</span> <span style="color: #000000; background: #FFFFFF;">          all(eq(ub, inf)) &amp;&amp; all(eq(lb, -inf))) || ...  % unconstrained</span><br/>               <span style="color: #A0A0A0"> 253</span> <span style="color: #000000; background: #FFFFFF;">      ~largescale)</span><br/>               <span style="color: #A0A0A0"> 254</span> <span style="color: #228B22; background: #FFFFFF;">   % (has linear inequalites  OR both equalities and bounds) OR </span><br/>               <span style="color: #A0A0A0"> 255</span> <span style="color: #228B22; background: #FFFFFF;">   % ~largescale, then call active-set code</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 256</span> <span style="color: #000000; background: #FFFFFF;">   output.algorithm = medium; </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 257</span> <span style="color: #000000; background: #FFFFFF;">   if largescale  &amp;&amp; ... </span><br/>               <span style="color: #A0A0A0"> 258</span> <span style="color: #000000; background: #FFFFFF;">         (  issparse(H)  || issparse(A) || issparse(Aeq) )% asked for sparse</span><br/>               <span style="color: #A0A0A0"> 259</span> <span style="color: #A0A0A0; background: #FFFFFF;">     warning('optim:quadprog:FullAndMedScale', ...</span><br/>               <span style="color: #A0A0A0"> 260</span> <span style="color: #A0A0A0; background: #FFFFFF;">              ['This problem formulation not yet available for sparse matrices.\n', ...</span><br/>               <span style="color: #A0A0A0"> 261</span> <span style="color: #A0A0A0; background: #FFFFFF;">               'Converting to full matrices and using medium-scale method instead.'])</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 262</span> <span style="color: #000000; background: #FFFFFF;">   elseif largescale % and didn't ask for sparse </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 263</span> <span style="color: #000000; background: #FFFFFF;">     warning('optim:quadprog:SwitchToMedScale', ... </span><br/>               <span style="color: #A0A0A0"> 264</span> <span style="color: #000000; background: #FFFFFF;">             ['Large-scale method does not currently solve this problem formulation,\n' ...</span><br/>               <span style="color: #A0A0A0"> 265</span> <span style="color: #000000; background: #FFFFFF;">              'using medium-scale method instead.'])</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 266</span> <span style="color: #000000; background: #FFFFFF;">   end </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 267</span> <span style="color: #000000; background: #FFFFFF;">   if ~isa(H,'double') || ( ~isempty(mtxmpy) )  </span><br/>               <span style="color: #A0A0A0"> 268</span> <span style="color: #A0A0A0; background: #FFFFFF;">      error('optim:quadprog:NoHessMult', ...</span><br/>               <span style="color: #A0A0A0"> 269</span> <span style="color: #A0A0A0; background: #FFFFFF;">            'H must be specified explicitly for medium-scale algorithm: cannot use HessMult option.')</span><br/>               <span style="color: #A0A0A0"> 270</span> <span style="color: #A0A0A0; background: #FFFFFF;">   end</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 271</span> <span style="color: #000000; background: #FFFFFF;">   H = full(H); A = full(A); Aeq = full(Aeq); </span><br/>               <span style="color: #A0A0A0"> 272</span> <span style="color: #228B22; background: #FFFFFF;">else % call sqpmin when just bounds or just equalities</span><br/>               <span style="color: #A0A0A0"> 273</span> <span style="color: #A0A0A0; background: #FFFFFF;">   output.algorithm = large;</span><br/>               <span style="color: #A0A0A0"> 274</span> <span style="color: #A0A0A0; background: #FFFFFF;">   if isempty(mtxmpy) </span><br/>               <span style="color: #A0A0A0"> 275</span> <span style="color: #A0A0A0; background: #FFFFFF;">     H = sparse(H);</span><br/>               <span style="color: #A0A0A0"> 276</span> <span style="color: #A0A0A0; background: #FFFFFF;">   end</span><br/>               <span style="color: #A0A0A0"> 277</span> <span style="color: #A0A0A0; background: #FFFFFF;">   A = sparse(A); Aeq = sparse(Aeq);</span><br/>               <span style="color: #A0A0A0"> 278</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 279</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 280</span> <span style="color: #000000; background: #FFFFFF;">if diagnostics  </span><br/>               <span style="color: #A0A0A0"> 281</span> <span style="color: #228B22; background: #FFFFFF;">   % Do diagnostics on information so far</span><br/>               <span style="color: #A0A0A0"> 282</span> <span style="color: #A0A0A0; background: #FFFFFF;">   gradflag = []; hessflag = []; line_search=[];</span><br/>               <span style="color: #A0A0A0"> 283</span> <span style="color: #A0A0A0; background: #FFFFFF;">   constflag = 0; gradconstflag = 0; non_eq=0;non_ineq=0;</span><br/>               <span style="color: #A0A0A0"> 284</span> <span style="color: #A0A0A0; background: #FFFFFF;">   lin_eq=size(Aeq,1); lin_ineq=size(A,1); XOUT=ones(numberOfVariables,1);</span><br/>               <span style="color: #A0A0A0"> 285</span> <span style="color: #A0A0A0; background: #FFFFFF;">   funfcn{1} = [];ff=[]; GRAD=[];HESS=[];</span><br/>               <span style="color: #A0A0A0"> 286</span> <span style="color: #A0A0A0; background: #FFFFFF;">   confcn{1}=[];c=[];ceq=[];cGRAD=[];ceqGRAD=[];</span><br/>               <span style="color: #A0A0A0"> 287</span> <span style="color: #A0A0A0; background: #FFFFFF;">   msg = diagnose('quadprog',output,gradflag,hessflag,constflag,gradconstflag,...</span><br/>               <span style="color: #A0A0A0"> 288</span> <span style="color: #A0A0A0; background: #FFFFFF;">      line_search,options,defaultopt,XOUT,non_eq,...</span><br/>               <span style="color: #A0A0A0"> 289</span> <span style="color: #A0A0A0; background: #FFFFFF;">      non_ineq,lin_eq,lin_ineq,lb,ub,funfcn,confcn,ff,GRAD,HESS,c,ceq,cGRAD,ceqGRAD);</span><br/>               <span style="color: #A0A0A0"> 290</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 291</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 292</span> <span style="color: #228B22; background: #FFFFFF;">% if any inequalities, or both equalities and bounds, or more equalities than bounds,</span><br/>               <span style="color: #A0A0A0"> 293</span> <span style="color: #228B22; background: #FFFFFF;">%    or asked for active set (~largescale) then call qpsub</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 294</span> <span style="color: #000000; background: #FFFFFF;">if isequal(output.algorithm, medium) </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 295</span> <span style="color: #000000; background: #FFFFFF;">   if isempty(X0),  </span><br/>       <span style="color: #0000FF">     39 </span><span style="color: #000000; font-weight: bold"> 296</span> <span style="color: #000000; background: #FFFFFF;">      X0=zeros(numberOfVariables,1);  </span><br/>       <span style="color: #0000FF">     39 </span><span style="color: #000000; font-weight: bold"> 297</span> <span style="color: #000000; background: #FFFFFF;">   end </span><br/>               <span style="color: #A0A0A0"> 298</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 299</span> <span style="color: #228B22; background: #FFFFFF;">   % Create options structure for qpsub</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 300</span> <span style="color: #000000; background: #FFFFFF;">   qpoptions.MaxIter = <a href="file31.html">optimget</a>(options,'MaxIter',defaultopt,'fast'); </span><br/>               <span style="color: #A0A0A0"> 301</span> <span style="color: #228B22; background: #FFFFFF;">   % A fixed constraint tolerance (eps) is used for constraint</span><br/>               <span style="color: #A0A0A0"> 302</span> <span style="color: #228B22; background: #FFFFFF;">   % satisfaction; no need to specify any value</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 303</span> <span style="color: #000000; background: #FFFFFF;">   qpoptions.TolCon = []; </span><br/>               <span style="color: #A0A0A0"> 304</span> <span style="color: #228B22; background: #FFFFFF;">    </span><br/><span style="color: #FF0000">  1.95 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 305</span> <a name="Line305"></a><span style="color: #000000; background: #FF8080;">   [X,lambdaqp,exitflag,output,dum1,dum2,msg]= ... </span><br/>               <span style="color: #A0A0A0"> 306</span> <span style="color: #000000; background: #FF8080;">      qpsub(H,f,[Aeq;A],[Beq;B],lb,ub,X0,neqcstr,...</span><br/>               <span style="color: #A0A0A0"> 307</span> <span style="color: #000000; background: #FF8080;">      verbosity,caller,ncstr,numberOfVariables,qpoptions); </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 308</span> <span style="color: #000000; background: #FFFFFF;">   output.algorithm = medium; % have to reset since call to <a href="file34.html">qpsub</a> obliterates </span><br/>               <span style="color: #A0A0A0"> 309</span> <span style="color: #228B22; background: #FFFFFF;">   </span><br/>               <span style="color: #A0A0A0"> 310</span> <span style="color: #A0A0A0; background: #FFFFFF;">elseif isequal(output.algorithm,large)  % largescale: call sqpmin when just bounds or just equalities</span><br/>               <span style="color: #A0A0A0"> 311</span> <span style="color: #A0A0A0; background: #FFFFFF;">    [X,fval,output,exitflag,lambda]=...</span><br/>               <span style="color: #A0A0A0"> 312</span> <span style="color: #A0A0A0; background: #FFFFFF;">        sqpmin(f,H,X0,Aeq,Beq,lb,ub,verbosity,options,defaultopt,computeLambda,varargin{:});</span><br/>               <span style="color: #A0A0A0"> 313</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 314</span> <span style="color: #A0A0A0; background: #FFFFFF;">    if exitflag == -10  % Problem not handled by sqpmin at this time: dependent rows</span><br/>               <span style="color: #A0A0A0"> 315</span> <span style="color: #A0A0A0; background: #FFFFFF;">        warning('optim:quadprog:SwitchToMedScale', ...</span><br/>               <span style="color: #A0A0A0"> 316</span> <span style="color: #A0A0A0; background: #FFFFFF;">            ['Large-scale method does not currently solve problems with dependent equalities,\n' ...</span><br/>               <span style="color: #A0A0A0"> 317</span> <span style="color: #A0A0A0; background: #FFFFFF;">            'using medium-scale method instead.'])</span><br/>               <span style="color: #A0A0A0"> 318</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if isempty(X0),</span><br/>               <span style="color: #A0A0A0"> 319</span> <span style="color: #A0A0A0; background: #FFFFFF;">            X0=zeros(numberOfVariables,1);</span><br/>               <span style="color: #A0A0A0"> 320</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 321</span> <span style="color: #A0A0A0; background: #FFFFFF;">        output.algorithm = medium;</span><br/>               <span style="color: #A0A0A0"> 322</span> <span style="color: #A0A0A0; background: #FFFFFF;">        if ~isa(H,'double') || ( ~isempty(mtxmpy)  )</span><br/>               <span style="color: #A0A0A0"> 323</span> <span style="color: #A0A0A0; background: #FFFFFF;">            error('optim:quadprog:NoHessMult', ...</span><br/>               <span style="color: #A0A0A0"> 324</span> <span style="color: #A0A0A0; background: #FFFFFF;">                'H must be specified explicitly for medium-scale algorithm: cannot use HessMult option.')</span><br/>               <span style="color: #A0A0A0"> 325</span> <span style="color: #A0A0A0; background: #FFFFFF;">        end</span><br/>               <span style="color: #A0A0A0"> 326</span> <span style="color: #A0A0A0; background: #FFFFFF;">        H = full(H); A = full(A); Aeq = full(Aeq);</span><br/>               <span style="color: #A0A0A0"> 327</span> <span style="color: #228B22; background: #FFFFFF;">        </span><br/>               <span style="color: #A0A0A0"> 328</span> <span style="color: #228B22; background: #FFFFFF;">        % Create options structure for qpsub</span><br/>               <span style="color: #A0A0A0"> 329</span> <span style="color: #A0A0A0; background: #FFFFFF;">        qpoptions.MaxIter = optimget(options,'MaxIter',defaultopt,'fast');</span><br/>               <span style="color: #A0A0A0"> 330</span> <span style="color: #228B22; background: #FFFFFF;">        % A fixed constraint tolerance (eps) is used for constraint</span><br/>               <span style="color: #A0A0A0"> 331</span> <span style="color: #228B22; background: #FFFFFF;">        % satisfaction; no need to specify any value</span><br/>               <span style="color: #A0A0A0"> 332</span> <span style="color: #A0A0A0; background: #FFFFFF;">        qpoptions.TolCon = [];</span><br/>               <span style="color: #A0A0A0"> 333</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0"> 334</span> <span style="color: #A0A0A0; background: #FFFFFF;">        [X,lambdaqp,exitflag,output,dum1,dum2,msg]= ...</span><br/>               <span style="color: #A0A0A0"> 335</span> <span style="color: #A0A0A0; background: #FFFFFF;">            qpsub(H,f,[Aeq;A],[Beq;B],lb,ub,X0,neqcstr,...</span><br/>               <span style="color: #A0A0A0"> 336</span> <span style="color: #A0A0A0; background: #FFFFFF;">            verbosity,caller,ncstr,numberOfVariables,qpoptions);</span><br/>               <span style="color: #A0A0A0"> 337</span> <span style="color: #A0A0A0; background: #FFFFFF;">        output.algorithm = medium; % have to reset since call to qpsub obliterates</span><br/>               <span style="color: #A0A0A0"> 338</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0"> 339</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0"> 340</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 341</span> <a name="Line341"></a><span style="color: #000000; background: #FFFFFF;">if isequal(output.algorithm , medium) </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 342</span> <span style="color: #000000; background: #FFFFFF;">   fval = 0.5*X'*(H*X)+f'*X;  </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 343</span> <span style="color: #000000; background: #FFFFFF;">   if computeLambda </span><br/>               <span style="color: #A0A0A0"> 344</span> <span style="color: #A0A0A0; background: #FFFFFF;">       llb = length(lb); </span><br/>               <span style="color: #A0A0A0"> 345</span> <span style="color: #A0A0A0; background: #FFFFFF;">       lub = length(ub);</span><br/>               <span style="color: #A0A0A0"> 346</span> <span style="color: #A0A0A0; background: #FFFFFF;">       lambda.lower = zeros(llb,1);</span><br/>               <span style="color: #A0A0A0"> 347</span> <span style="color: #A0A0A0; background: #FFFFFF;">       lambda.upper = zeros(lub,1);</span><br/>               <span style="color: #A0A0A0"> 348</span> <span style="color: #A0A0A0; background: #FFFFFF;">       arglb = ~isinf(lb); lenarglb = nnz(arglb);</span><br/>               <span style="color: #A0A0A0"> 349</span> <span style="color: #A0A0A0; background: #FFFFFF;">       argub = ~isinf(ub); lenargub = nnz(argub);</span><br/>               <span style="color: #A0A0A0"> 350</span> <span style="color: #A0A0A0; background: #FFFFFF;">       lambda.eqlin = lambdaqp(1:neqcstr,1);</span><br/>               <span style="color: #A0A0A0"> 351</span> <span style="color: #A0A0A0; background: #FFFFFF;">       lambda.ineqlin = lambdaqp(neqcstr+1:neqcstr+nineqcstr,1);</span><br/>               <span style="color: #A0A0A0"> 352</span> <span style="color: #A0A0A0; background: #FFFFFF;">       lambda.lower(arglb) = lambdaqp(neqcstr+nineqcstr+1:neqcstr+nineqcstr+lenarglb);</span><br/>               <span style="color: #A0A0A0"> 353</span> <span style="color: #A0A0A0; background: #FFFFFF;">       lambda.upper(argub) = lambdaqp(neqcstr+nineqcstr+lenarglb+1: ...</span><br/>               <span style="color: #A0A0A0"> 354</span> <span style="color: #A0A0A0; background: #FFFFFF;">                                  neqcstr+nineqcstr+lenarglb+lenargub);</span><br/>               <span style="color: #A0A0A0"> 355</span> <span style="color: #A0A0A0; background: #FFFFFF;">   end</span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 356</span> <span style="color: #000000; background: #FFFFFF;">   output.firstorderopt = [];  </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 357</span> <span style="color: #000000; background: #FFFFFF;">   output.cgiterations = [];   </span><br/>               <span style="color: #A0A0A0"> 358</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 359</span> <span style="color: #000000; background: #FFFFFF;">   if exitflag == 1 </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 360</span> <span style="color: #000000; background: #FFFFFF;">     normalTerminationMsg = sprintf('Optimization terminated.');   </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 361</span> <span style="color: #000000; background: #FFFFFF;">     if verbosity &gt; 0 </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 362</span> <span style="color: #000000; background: #FFFFFF;">       disp(normalTerminationMsg) </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 363</span> <span style="color: #000000; background: #FFFFFF;">     end </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 364</span> <span style="color: #000000; background: #FFFFFF;">     if isempty(msg) </span><br/>       <span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 365</span> <span style="color: #000000; background: #FFFFFF;">       output.message = normalTerminationMsg; </span><br/>               <span style="color: #A0A0A0"> 366</span> <span style="color: #228B22; background: #FFFFFF;">     else</span><br/>               <span style="color: #A0A0A0"> 367</span> <span style="color: #228B22; background: #FFFFFF;">       % append normal termination msg to current output msg</span><br/>               <span style="color: #A0A0A0"> 368</span> <span style="color: #A0A0A0; background: #FFFFFF;">       output.message = sprintf('%s\n%s',msg,normalTerminationMsg);</span><br/>               <span style="color: #A0A0A0"> 369</span> <span style="color: #A0A0A0; background: #FFFFFF;">     end</span><br/>               <span style="color: #A0A0A0"> 370</span> <span style="color: #228B22; background: #FFFFFF;">   else</span><br/>               <span style="color: #A0A0A0"> 371</span> <span style="color: #A0A0A0; background: #FFFFFF;">     output.message = msg;</span><br/>               <span style="color: #A0A0A0"> 372</span> <span style="color: #A0A0A0; background: #FFFFFF;">   end</span><br/>               <span style="color: #A0A0A0"> 373</span> <span style="color: #228B22; background: #FFFFFF;">   </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     77 </span><span style="color: #000000; font-weight: bold"> 374</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>