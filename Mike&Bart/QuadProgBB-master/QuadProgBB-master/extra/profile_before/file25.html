<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for quadprogbb>cplex_bnd_solve</title><link rel="stylesheet" href="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">quadprogbb>cplex_bnd_solve (2 calls, 0.875 sec)</span><br/><i>Generated 06-Oct-2011 17:14:13 using cpu time.</i><br/>M-subfunction in file /nfs/dollar/local/vol00/user0/jieqchen/new/quadprogbb/quadprogbb/mpc/code/quadprogbb.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file28.html">quadprogbb>boundall</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">2</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line1446">1446</a></td><td class="td-linebottomrt"><pre>cplex.solve();</pre></td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.204 s</td><td class="td-linebottomrt" class="td-linebottomrt">23.3%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=23 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1434">1434</a></td><td class="td-linebottomrt"><pre>cplex = Cplex('lpbnd');</pre></td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.183 s</td><td class="td-linebottomrt" class="td-linebottomrt">20.9%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=21 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1458">1458</a></td><td class="td-linebottomrt"><pre>cplex.solve();</pre></td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.132 s</td><td class="td-linebottomrt" class="td-linebottomrt">15.1%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=15 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1511">1511</a></td><td class="td-linebottomrt"><pre>cplex.solve();</pre></td><td class="td-linebottomrt">15</td><td class="td-linebottomrt">0.081 s</td><td class="td-linebottomrt" class="td-linebottomrt">9.3%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=9 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line1508">1508</a></td><td class="td-linebottomrt"><pre>cplex.Model.obj = ff;</pre></td><td class="td-linebottomrt">15</td><td class="td-linebottomrt">0.041 s</td><td class="td-linebottomrt" class="td-linebottomrt">4.7%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=5 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.234 s</td><td class="td-linebottomrt">26.7%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=27 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.875 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="file26.html">Cplex.Cplex>Cplex.subsref</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">116</td><td class="td-linebottomrt">0.468 s</td><td class="td-linebottomrt">53.5%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=53 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file18.html">Cplex.Cplex>Cplex.subsasgn</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">84</td><td class="td-linebottomrt">0.173 s</td><td class="td-linebottomrt">19.8%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=20 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file17.html">Cplex.Cplex>Cplex.Cplex</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.071 s</td><td class="td-linebottomrt">8.1%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=8 height=10></td></tr><tr><td class="td-linebottomrt"><a href="file20.html">...Handle.CplexHandle>CplexHandle.delete</a></td><td class="td-linebottomrt">M-subfunction</td><td class="td-linebottomrt">2</td><td class="td-linebottomrt">0.010 s</td><td class="td-linebottomrt">1.2%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=1 height=10></td></tr><tr><td class="td-linebottomrt">Self time (built-ins, overhead, etc.)</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.153 s</td><td class="td-linebottomrt">17.4%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=17 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.875 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><strong>M-Lint results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr><tr><td class="td-linebottomrt"><a href="#Line1410">1410</a></td><td class="td-linebottomrt"><span class="mono">The value assigned to variable 'm' might be unused.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1414">1414</a></td><td class="td-linebottomrt"><span class="mono">Use || instead of | as the OR operator in (scalar) conditional statements.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1420">1420</a></td><td class="td-linebottomrt"><span class="mono">Use || instead of | as the OR operator in (scalar) conditional statements.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1444">1444</a></td><td class="td-linebottomrt"><span class="mono">Use || instead of | as the OR operator in (scalar) conditional statements.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1456">1456</a></td><td class="td-linebottomrt"><span class="mono">Use || instead of | as the OR operator in (scalar) conditional statements.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1477">1477</a></td><td class="td-linebottomrt"><span class="mono">Use || instead of | as the OR operator in (scalar) conditional statements.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1481">1481</a></td><td class="td-linebottomrt"><span class="mono">Removing the call to FIND and using logical indexing is usually faster.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1484">1484</a></td><td class="td-linebottomrt"><span class="mono">Use || instead of | as the OR operator in (scalar) conditional statements.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1488">1488</a></td><td class="td-linebottomrt"><span class="mono">Removing the call to FIND and using logical indexing is usually faster.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1502">1502</a></td><td class="td-linebottomrt"><span class="mono">Use || instead of | as the OR operator in (scalar) conditional statements.</span></td></tr><tr><td class="td-linebottomrt"><a href="#Line1527">1527</a></td><td class="td-linebottomrt"><span class="mono">Use || instead of | as the OR operator in (scalar) conditional statements.</span></td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">172</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">51</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">121</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">93</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">28</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">76.86 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">1381</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [xLB,xUB,time] = cplex_bnd_solve( AA, bb, INDEQ, LB, UB, index, flag)</span><br/>               <span style="color: #A0A0A0">1382</span> <span style="color: #228B22; background: #FFFFFF;">%% CPLEX_BND_SOLVE finds the lower and upper bounds for variables involved in the following feasible region:</span><br/>               <span style="color: #A0A0A0">1383</span> <span style="color: #228B22; background: #FFFFFF;">%  { x | AA * x &lt;= bb , LB &lt;= x &lt;= UB }</span><br/>               <span style="color: #A0A0A0">1384</span> <span style="color: #228B22; background: #FFFFFF;">%  </span><br/>               <span style="color: #A0A0A0">1385</span> <span style="color: #228B22; background: #FFFFFF;">%  where the equality holds for those indices identified by INDEQ, ie, AA(INDEQ,:) * x == bb(INDEQ).</span><br/>               <span style="color: #A0A0A0">1386</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">1387</span> <span style="color: #228B22; background: #FFFFFF;">% Parameters:</span><br/>               <span style="color: #A0A0A0">1388</span> <span style="color: #228B22; background: #FFFFFF;">%       - index: we only calculate bounds for x(index), not on the other compnents of x. </span><br/>               <span style="color: #A0A0A0">1389</span> <span style="color: #228B22; background: #FFFFFF;">%       - flag: can take three values:</span><br/>               <span style="color: #A0A0A0">1390</span> <span style="color: #228B22; background: #FFFFFF;">%               1) 'l': only lower bounds</span><br/>               <span style="color: #A0A0A0">1391</span> <span style="color: #228B22; background: #FFFFFF;">%               2) 'u': only upper bounds</span><br/>               <span style="color: #A0A0A0">1392</span> <span style="color: #228B22; background: #FFFFFF;">%               3) 'b': both lower and upper bounds, default</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1393</span> <span style="color: #000000; background: #FFFFFF;">tStart = tic; </span><br/>               <span style="color: #A0A0A0">1394</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1395</span> <span style="color: #000000; background: #FFFFFF;">if numel(index) == 0 </span><br/>               <span style="color: #A0A0A0">1396</span> <span style="color: #A0A0A0; background: #FFFFFF;">  xLB = [];</span><br/>               <span style="color: #A0A0A0">1397</span> <span style="color: #A0A0A0; background: #FFFFFF;">  xUB = [];</span><br/>               <span style="color: #A0A0A0">1398</span> <span style="color: #A0A0A0; background: #FFFFFF;">  time = toc(tStart);</span><br/>               <span style="color: #A0A0A0">1399</span> <span style="color: #A0A0A0; background: #FFFFFF;">  return</span><br/>               <span style="color: #A0A0A0">1400</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">1401</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1402</span> <span style="color: #000000; background: #FFFFFF;">if nargin &lt; 7 </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1403</span> <span style="color: #000000; background: #FFFFFF;">  flag = 'b'; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1404</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">1405</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1406</span> <span style="color: #228B22; background: #FFFFFF;">% initilize data </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1407</span> <span style="color: #000000; background: #FFFFFF;">n = length(LB); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1408</span> <span style="color: #000000; background: #FFFFFF;">meq = length(INDEQ); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1409</span> <span style="color: #000000; background: #FFFFFF;">mm = length(bb); </span><br/><a name="Line1410"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1410</span> <span style="color: #000000; background: #FFFFFF;">m = mm - meq; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1411</span> <span style="color: #000000; background: #FFFFFF;">nn = length(index); </span><br/>               <span style="color: #A0A0A0">1412</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1413</span> <span style="color: #228B22; background: #FFFFFF;">% set bound default values</span><br/><a name="Line1414"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1414</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'l')|strcmp(flag,'b') </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1415</span> <span style="color: #000000; background: #FFFFFF;">  xLB = LB(index); </span><br/>               <span style="color: #A0A0A0">1416</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0">1417</span> <span style="color: #A0A0A0; background: #FFFFFF;">  xLB = [];</span><br/>               <span style="color: #A0A0A0">1418</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">1419</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><a name="Line1420"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1420</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'u')|strcmp(flag,'b') </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1421</span> <span style="color: #000000; background: #FFFFFF;">  xUB = UB(index); </span><br/>               <span style="color: #A0A0A0">1422</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0">1423</span> <span style="color: #A0A0A0; background: #FFFFFF;">  xUB = [];</span><br/>               <span style="color: #A0A0A0">1424</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">1425</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1426</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1427</span> <span style="color: #228B22; background: #FFFFFF;">% setup the first LP</span><br/>               <span style="color: #A0A0A0">1428</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1429</span> <span style="color: #000000; background: #FFFFFF;">lhs = -inf(mm,1); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1430</span> <span style="color: #000000; background: #FFFFFF;">lhs(INDEQ) = bb(INDEQ); </span><br/>               <span style="color: #A0A0A0">1431</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1432</span> <span style="color: #000000; background: #FFFFFF;">ff = zeros(n,1); ff(index(1)) = 1; </span><br/>               <span style="color: #A0A0A0">1433</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.18 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1434</span> <a name="Line1434"></a><span style="color: #000000; background: #FF8080;">cplex = Cplex('lpbnd'); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1435</span> <span style="color: #000000; background: #FFFFFF;">cplex.DisplayFunc = []; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1436</span> <span style="color: #000000; background: #FFFFFF;">cplex.Model.obj   = ff; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1437</span> <span style="color: #000000; background: #FFFFFF;">cplex.Model.lb    = LB; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1438</span> <span style="color: #000000; background: #FFFFFF;">cplex.Model.ub    = UB; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1439</span> <span style="color: #000000; background: #FFFFFF;">cplex.Model.A     = AA; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1440</span> <span style="color: #000000; background: #FFFFFF;">cplex.Model.lhs   = lhs; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1441</span> <span style="color: #000000; background: #FFFFFF;">cplex.Model.rhs   = bb; </span><br/>               <span style="color: #A0A0A0">1442</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1443</span> <span style="color: #228B22; background: #FFFFFF;">% solve first lower bound</span><br/><a name="Line1444"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1444</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'l')|strcmp(flag,'b') </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1445</span> <span style="color: #000000; background: #FFFFFF;">  cplex.Model.sense = 'minimize'; </span><br/><span style="color: #FF0000">  0.20 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1446</span> <a name="Line1446"></a><span style="color: #000000; background: #FF8080;">  cplex.solve(); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1447</span> <span style="color: #000000; background: #FFFFFF;">  if  cplex.Solution.status ~= 1 </span><br/>               <span style="color: #A0A0A0">1448</span> <span style="color: #A0A0A0; background: #FFFFFF;">    fprintf('1st LP lower bound cannot be obtained: either unbounded or infeasible!');</span><br/>               <span style="color: #A0A0A0">1449</span> <span style="color: #A0A0A0; background: #FFFFFF;">    error('CPLEX solution status = %d',cplex.Solution.status);</span><br/>               <span style="color: #A0A0A0">1450</span> <span style="color: #A0A0A0; background: #FFFFFF;">  end</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1451</span> <span style="color: #000000; background: #FFFFFF;">  xx1 = cplex.Solution.x; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1452</span> <span style="color: #000000; background: #FFFFFF;">  xLB(1) = ff'*xx1; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1453</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">1454</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1455</span> <span style="color: #228B22; background: #FFFFFF;">% solve first upper bound</span><br/><a name="Line1456"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1456</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'u')|strcmp(flag,'b') </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1457</span> <span style="color: #000000; background: #FFFFFF;">  cplex.Model.sense = 'maximize'; </span><br/><span style="color: #FF0000">  0.13 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1458</span> <a name="Line1458"></a><span style="color: #000000; background: #FFAAAA;">  cplex.solve(); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1459</span> <span style="color: #000000; background: #FFFFFF;">  if  cplex.Solution.status ~= 1 </span><br/>               <span style="color: #A0A0A0">1460</span> <span style="color: #A0A0A0; background: #FFFFFF;">     fprintf('1st LP upper bound cannot be obtained: either unbounded or infeasible!');</span><br/>               <span style="color: #A0A0A0">1461</span> <span style="color: #A0A0A0; background: #FFFFFF;">     error('CPLEX solution status = %d',cplex.Solution.status);</span><br/>               <span style="color: #A0A0A0">1462</span> <span style="color: #A0A0A0; background: #FFFFFF;">  end</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1463</span> <span style="color: #000000; background: #FFFFFF;">  xx2 = cplex.Solution.x; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1464</span> <span style="color: #000000; background: #FFFFFF;">  xUB(1) = ff'*xx2; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1465</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">1466</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1467</span> <span style="color: #228B22; background: #FFFFFF;">% find the indices of xx1 and xx2 are at its lower or upper bounds, no need to solve those LPs</span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1468</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'b') </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1469</span> <span style="color: #000000; background: #FFFFFF;">  tmp_L = min(xx1,xx2); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1470</span> <span style="color: #000000; background: #FFFFFF;">  tmp_U = max(xx1,xx2); </span><br/>               <span style="color: #A0A0A0">1471</span> <span style="color: #A0A0A0; background: #FFFFFF;">elseif strcmp(flag,'l')</span><br/>               <span style="color: #A0A0A0">1472</span> <span style="color: #A0A0A0; background: #FFFFFF;">  tmp_L = xx1;</span><br/>               <span style="color: #A0A0A0">1473</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0">1474</span> <span style="color: #A0A0A0; background: #FFFFFF;">  tmp_U = xx2;</span><br/>               <span style="color: #A0A0A0">1475</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>               <span style="color: #A0A0A0">1476</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><a name="Line1477"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1477</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'l')|strcmp(flag,'b') </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1478</span> <span style="color: #000000; background: #FFFFFF;">  tmp_L = tmp_L(index); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1479</span> <span style="color: #000000; background: #FFFFFF;">  idx_L = find(abs(tmp_L - LB(index)) &lt; 1e-8); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1480</span> <span style="color: #000000; background: #FFFFFF;">  index_L = index; </span><br/><a name="Line1481"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1481</span> <span style="color: #000000; background: #FFFFFF;">  index_L(idx_L) = 0; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1482</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">1483</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><a name="Line1484"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1484</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'u')|strcmp(flag,'b') </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1485</span> <span style="color: #000000; background: #FFFFFF;">  tmp_U = tmp_U(index); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1486</span> <span style="color: #000000; background: #FFFFFF;">  idx_U = find(abs(tmp_U - UB(index)) &lt; 1e-8); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1487</span> <span style="color: #000000; background: #FFFFFF;">  index_U = index; </span><br/><a name="Line1488"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1488</span> <span style="color: #000000; background: #FFFFFF;">  index_U(idx_U) = 0; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1489</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">1490</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1491</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1492</span> <span style="color: #000000; background: #FFFFFF;">colstat = cplex.Solution.basis.colstat; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1493</span> <span style="color: #000000; background: #FFFFFF;">rowstat = cplex.Solution.basis.rowstat; </span><br/>               <span style="color: #A0A0A0">1494</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1495</span> <span style="color: #228B22; background: #FFFFFF;">% use primal simplex method</span><br/>               <span style="color: #A0A0A0">1496</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1497</span> <span style="color: #000000; background: #FFFFFF;">cplex.Param.lpmethod.Cur = 1; </span><br/>               <span style="color: #A0A0A0">1498</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1499</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1500</span> <span style="color: #228B22; background: #FFFFFF;">% solve upper bounds</span><br/>               <span style="color: #A0A0A0">1501</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><a name="Line1502"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1502</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'b')|strcmp(flag,'u') </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1503</span> <span style="color: #000000; background: #FFFFFF;">  cplex.Model.sense = 'maximize'; </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1504</span> <span style="color: #000000; background: #FFFFFF;">  for i = 2:nn </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold">1505</span> <span style="color: #000000; background: #FFFFFF;">    if index_U(i) &gt; 0 </span><br/>       <span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1506</span> <span style="color: #000000; background: #FFFFFF;">      ff = zeros(n,1); </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1507</span> <span style="color: #000000; background: #FFFFFF;">      ff(index_U(i)) = 1; </span><br/><span style="color: #FF0000">  0.04 </span><span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1508</span> <a name="Line1508"></a><span style="color: #000000; background: #FFF0F0;">      cplex.Model.obj = ff; </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1509</span> <span style="color: #000000; background: #FFFFFF;">      cplex.Start.basis.colstat = colstat; </span><br/><span style="color: #FF0000">  0.03 </span><span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1510</span> <span style="color: #000000; background: #FFF0F0;">      cplex.Start.basis.rowstat = rowstat; </span><br/><span style="color: #FF0000">  0.08 </span><span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1511</span> <a name="Line1511"></a><span style="color: #000000; background: #FFD4D4;">      cplex.solve(); </span><br/>               <span style="color: #A0A0A0">1512</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1513</span> <span style="color: #000000; background: #FFFFFF;">      if cplex.Solution.status ~=  1 </span><br/>               <span style="color: #A0A0A0">1514</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fprintf('%d-th LP upper bound cannot be obtained: either unbounded or infeasible',i);</span><br/>               <span style="color: #A0A0A0">1515</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error('CPLEX solution status = %d',cplex.Solution.status);</span><br/>               <span style="color: #A0A0A0">1516</span> <span style="color: #A0A0A0; background: #FFFFFF;">      end</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1517</span> <span style="color: #000000; background: #FFFFFF;">      xUB(i)= ff'*cplex.Solution.x; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1518</span> <span style="color: #000000; background: #FFFFFF;">      colstat = cplex.Solution.basis.colstat; </span><br/>       <span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1519</span> <span style="color: #000000; background: #FFFFFF;">      rowstat = cplex.Solution.basis.rowstat; </span><br/>       <span style="color: #0000FF">     15 </span><span style="color: #000000; font-weight: bold">1520</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold">1521</span> <span style="color: #000000; background: #FFFFFF;">  end </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1522</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">1523</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1524</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>               <span style="color: #A0A0A0">1525</span> <span style="color: #228B22; background: #FFFFFF;">% solve lower bounds</span><br/>               <span style="color: #A0A0A0">1526</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/><a name="Line1527"></a>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1527</span> <span style="color: #000000; background: #FFFFFF;">if strcmp(flag,'b')|strcmp(flag,'l') </span><br/>               <span style="color: #A0A0A0">1528</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1529</span> <span style="color: #000000; background: #FFFFFF;">  cplex.Model.sense = 'minimize'; </span><br/>               <span style="color: #A0A0A0">1530</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1531</span> <span style="color: #000000; background: #FFFFFF;">  for i = 2:nn </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold">1532</span> <span style="color: #000000; background: #FFFFFF;">    if index_L(i) &gt; 0 </span><br/>       <span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1533</span> <span style="color: #000000; background: #FFFFFF;">      ff = zeros(n,1); </span><br/>       <span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1534</span> <span style="color: #000000; background: #FFFFFF;">      ff(index_L(i)) = 1; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1535</span> <span style="color: #000000; background: #FFFFFF;">      cplex.Model.obj = ff; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1536</span> <span style="color: #000000; background: #FFFFFF;">      cplex.Start.basis.colstat = colstat; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1537</span> <span style="color: #000000; background: #FFFFFF;">      cplex.Start.basis.rowstat = rowstat; </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1538</span> <span style="color: #000000; background: #FFFFFF;">      cplex.solve(); </span><br/>               <span style="color: #A0A0A0">1539</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1540</span> <span style="color: #000000; background: #FFFFFF;">      if cplex.Solution.status ~=  1 </span><br/>               <span style="color: #A0A0A0">1541</span> <span style="color: #A0A0A0; background: #FFFFFF;">        fprintf('%d-th LP lower bound cannot be obtained: either unbounded or infeasible',i);</span><br/>               <span style="color: #A0A0A0">1542</span> <span style="color: #A0A0A0; background: #FFFFFF;">        error('CPLEX solution status = %d',cplex.Solution.status);</span><br/>               <span style="color: #A0A0A0">1543</span> <span style="color: #A0A0A0; background: #FFFFFF;">      end</span><br/>       <span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1544</span> <span style="color: #000000; background: #FFFFFF;">      xLB(i)= ff'*cplex.Solution.x; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1545</span> <span style="color: #000000; background: #FFFFFF;">      colstat = cplex.Solution.basis.colstat; </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1546</span> <span style="color: #000000; background: #FFFFFF;">      rowstat = cplex.Solution.basis.rowstat; </span><br/>       <span style="color: #0000FF">      5 </span><span style="color: #000000; font-weight: bold">1547</span> <span style="color: #000000; background: #FFFFFF;">    end </span><br/>       <span style="color: #0000FF">     20 </span><span style="color: #000000; font-weight: bold">1548</span> <span style="color: #000000; background: #FFFFFF;">  end </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1549</span> <span style="color: #000000; background: #FFFFFF;">end </span><br/>               <span style="color: #A0A0A0">1550</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1551</span> <span style="color: #000000; background: #FFFFFF;">time = toc(tStart); </span><br/>       <span style="color: #0000FF">      2 </span><span style="color: #000000; font-weight: bold">1552</span> <span style="color: #000000; background: #FFFFFF;">return </span><br/></pre></body></html>