<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /><title>Function details for compdir>choltrap</title><link rel="stylesheet" href="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/matlab-report-styles.css" type="text/css" /></head><body bgcolor="#F8F8F8"><strong>This is a static copy of a profile report</strong><p><a href="file0.html">Home</a><p><span style="font-size:14pt; background:#FFE4B0">compdir>choltrap (551 calls, 0.122 sec)</span><br/><i>Generated 06-Oct-2011 17:14:16 using cpu time.</i><br/>M-subfunction in file /usr/local/apps/matlab78/toolbox/shared/optimlib/compdir.m<br/>Copy to new window for comparing multiple runs<div class="grayline"/><div class="grayline"/><strong>Parents</strong> (calling functions)<br/><p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Name</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Function Type</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td></tr><tr><td class="td-linebottomrt"><a href="file39.html">compdir</a></td><td class="td-linebottomrt">M-function</td><td class="td-linebottomrt">551</td></tr></table><div class="grayline"/><strong>Lines where the most time was spent</strong><br/> <p><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line Number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Code</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Calls</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Total Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">% Time</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Time Plot</td></tr><tr><td class="td-linebottomrt"><a href="#Line79">79</a></td><td class="td-linebottomrt"><pre>sneg = L' \ elem;</pre></td><td class="td-linebottomrt">390</td><td class="td-linebottomrt">0.020 s</td><td class="td-linebottomrt" class="td-linebottomrt">16.7%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=17 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line77">77</a></td><td class="td-linebottomrt"><pre>warningstate1 = warning('off',...</pre></td><td class="td-linebottomrt">390</td><td class="td-linebottomrt">0.020 s</td><td class="td-linebottomrt" class="td-linebottomrt">16.7%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=17 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line101">101</a></td><td class="td-linebottomrt"><pre>warning(warningstate2)</pre></td><td class="td-linebottomrt">161</td><td class="td-linebottomrt">0.010 s</td><td class="td-linebottomrt" class="td-linebottomrt">8.3%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=8 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line92">92</a></td><td class="td-linebottomrt"><pre>elem = zeros(length(A),1); </pre></td><td class="td-linebottomrt">161</td><td class="td-linebottomrt">0.010 s</td><td class="td-linebottomrt" class="td-linebottomrt">8.3%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=8 height=10></td></tr><tr><td class="td-linebottomrt"><a href="#Line81">81</a></td><td class="td-linebottomrt"><pre>warning(warningstate1)</pre></td><td class="td-linebottomrt">390</td><td class="td-linebottomrt">0.010 s</td><td class="td-linebottomrt" class="td-linebottomrt">8.3%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=8 height=10></td></tr><tr><td class="td-linebottomrt">All other lines</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">&nbsp;</td><td class="td-linebottomrt">0.051 s</td><td class="td-linebottomrt">41.7%</td><td class="td-linebottomrt"><img src="file:////usr/local/apps/matlab78/toolbox/matlab/codetools/private/one-pixel.gif" width=42 height=10></td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Totals</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td><td class="td-linebottomrt" bgcolor="#F0F0F0">0.122 s</td><td class="td-linebottomrt" bgcolor="#F0F0F0">100%</td><td class="td-linebottomrt" bgcolor="#F0F0F0">&nbsp;</td></tr></table><div class="grayline"/><b>Children</b> (called functions)<br/>No children<div class="grayline"/><strong>M-Lint results</strong><br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Line number</td><td class="td-linebottomrt" bgcolor="#F0F0F0">Message</td></tr></table><div class="grayline"/><strong>Coverage results</strong><br/>[ Show coverage for parent directory ]<br/><table border=0 cellspacing=0 cellpadding=6><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Total lines in function</td><td class="td-linebottomrt">51</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Non-code lines (comments, blank lines)</td><td class="td-linebottomrt">19</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines (lines that can run)</td><td class="td-linebottomrt">32</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did run</td><td class="td-linebottomrt">22</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Code lines that did not run</td><td class="td-linebottomrt">10</td></tr><tr><td class="td-linebottomrt" bgcolor="#F0F0F0">Coverage (did run/can run)</td><td class="td-linebottomrt">68.75 %</td></tr></table><div class="grayline"/><b>Function listing</b><br/><pre> <span style="color: #FF0000; font-weight: bold; text-decoration: none">  time</span> <span style="color: #0000FF; font-weight: bold; text-decoration: none">  calls</span>  <span style="font-weight: bold; text-decoration: none">line</span><br/>               <span style="color: #A0A0A0">  54</span> <span style="color: #A0A0A0; background: #FFFFFF;">function [L,sneg] = choltrap(A)</span><br/>               <span style="color: #A0A0A0">  55</span> <span style="color: #228B22; background: #FFFFFF;">% CHOLTRAP Compute Cholesky factor or direction of negative curvature.</span><br/>               <span style="color: #A0A0A0">  56</span> <span style="color: #228B22; background: #FFFFFF;">%     [L, SNEG] = CHOLTRAP(A) computes the Cholesky factor L, such that</span><br/>               <span style="color: #A0A0A0">  57</span> <span style="color: #228B22; background: #FFFFFF;">%     L*L'= A, if it exists, or returns a direction of negative curvature</span><br/>               <span style="color: #A0A0A0">  58</span> <span style="color: #228B22; background: #FFFFFF;">%     SNEG for matrix A when A is not positive definite. If A is positive</span><br/>               <span style="color: #A0A0A0">  59</span> <span style="color: #228B22; background: #FFFFFF;">%     definite, SNEG will be []. </span><br/>               <span style="color: #A0A0A0">  60</span> <span style="color: #228B22; background: #FFFFFF;">%</span><br/>               <span style="color: #A0A0A0">  61</span> <span style="color: #228B22; background: #FFFFFF;">%     If A is singular, it is possible that SNEG will not be a direction of</span><br/>               <span style="color: #A0A0A0">  62</span> <span style="color: #228B22; background: #FFFFFF;">%     negative curvature (but will be nonempty). In particular, if A is</span><br/>               <span style="color: #A0A0A0">  63</span> <span style="color: #228B22; background: #FFFFFF;">%     positive semi-definite, SNEG will be nonempty but not a direction of</span><br/>               <span style="color: #A0A0A0">  64</span> <span style="color: #228B22; background: #FFFFFF;">%     negative curvature. If A is indefinite but singular, SNEG may or may</span><br/>               <span style="color: #A0A0A0">  65</span> <span style="color: #228B22; background: #FFFFFF;">%     not be a direction of negative curvature.</span><br/>               <span style="color: #A0A0A0">  66</span> <span style="color: #228B22; background: #FFFFFF;"></span><br/>       <span style="color: #0000FF">    551 </span><span style="color: #000000; font-weight: bold">  67</span> <span style="color: #000000; background: #FFFFFF;">sneg = []; </span><br/>       <span style="color: #0000FF">    551 </span><span style="color: #000000; font-weight: bold">  68</span> <span style="color: #000000; background: #FFFFFF;">n = size(A,1); </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    551 </span><span style="color: #000000; font-weight: bold">  69</span> <span style="color: #000000; background: #FFC6C6;">L = eye(n); </span><br/>       <span style="color: #0000FF">    551 </span><span style="color: #000000; font-weight: bold">  70</span> <span style="color: #000000; background: #FFFFFF;">tol = 0;    % Dividing by sqrt of small number isn't a problem  </span><br/>       <span style="color: #0000FF">    551 </span><span style="color: #000000; font-weight: bold">  71</span> <span style="color: #000000; background: #FFFFFF;">for k=1:n-1 </span><br/>       <span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  72</span> <span style="color: #000000; background: #FFFFFF;">    if A(k,k) &lt;= tol </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  73</span> <span style="color: #000000; background: #FFC6C6;">        elem = zeros(length(A),1);  </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  74</span> <span style="color: #000000; background: #FFC6C6;">        elem(k,1) = 1; </span><br/>               <span style="color: #A0A0A0">  75</span> <span style="color: #228B22; background: #FFFFFF;">        % Disable the warnings about conditioning for singular and</span><br/>               <span style="color: #A0A0A0">  76</span> <span style="color: #228B22; background: #FFFFFF;">        % nearly singular matrices</span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  77</span> <a name="Line77"></a><span style="color: #000000; background: #FF8080;">        warningstate1 = warning('off', 'MATLAB:nearlySingularMatrix'); </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  78</span> <span style="color: #000000; background: #FFC6C6;">        warningstate2 = warning('off', 'MATLAB:singularMatrix'); </span><br/><span style="color: #FF0000">  0.02 </span><span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  79</span> <a name="Line79"></a><span style="color: #000000; background: #FF8080;">        sneg = L' \ elem; </span><br/>               <span style="color: #A0A0A0">  80</span> <span style="color: #228B22; background: #FFFFFF;">        % Restore the warning states to their original settings</span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  81</span> <a name="Line81"></a><span style="color: #000000; background: #FFC6C6;">        warning(warningstate1) </span><br/>       <span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  82</span> <span style="color: #000000; background: #FFFFFF;">        warning(warningstate2) </span><br/>       <span style="color: #0000FF">    390 </span><span style="color: #000000; font-weight: bold">  83</span> <span style="color: #000000; background: #FFFFFF;">        return; </span><br/>               <span style="color: #A0A0A0">  84</span> <span style="color: #228B22; background: #FFFFFF;">    else</span><br/>               <span style="color: #A0A0A0">  85</span> <span style="color: #A0A0A0; background: #FFFFFF;">        L(k,k) = sqrt(A(k,k));</span><br/>               <span style="color: #A0A0A0">  86</span> <span style="color: #A0A0A0; background: #FFFFFF;">        s = k+1:n;</span><br/>               <span style="color: #A0A0A0">  87</span> <span style="color: #A0A0A0; background: #FFFFFF;">        L(s,k) = A(s,k)/L(k,k);</span><br/>               <span style="color: #A0A0A0">  88</span> <span style="color: #A0A0A0; background: #FFFFFF;">        A(k+1:n,k+1:n) =  A(k+1:n,k+1:n)  - tril(L(k+1:n,k)*L(k+1:n,k)');   </span><br/>               <span style="color: #A0A0A0">  89</span> <span style="color: #A0A0A0; background: #FFFFFF;">    end</span><br/>               <span style="color: #A0A0A0">  90</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/>       <span style="color: #0000FF">    161 </span><span style="color: #000000; font-weight: bold">  91</span> <span style="color: #000000; background: #FFFFFF;">if A(n,n) &lt;= tol </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    161 </span><span style="color: #000000; font-weight: bold">  92</span> <a name="Line92"></a><span style="color: #000000; background: #FFC6C6;">    elem = zeros(length(A),1);  </span><br/>       <span style="color: #0000FF">    161 </span><span style="color: #000000; font-weight: bold">  93</span> <span style="color: #000000; background: #FFFFFF;">    elem(n,1) = 1; </span><br/>               <span style="color: #A0A0A0">  94</span> <span style="color: #228B22; background: #FFFFFF;">    % Disable the warnings about conditioning for singular and</span><br/>               <span style="color: #A0A0A0">  95</span> <span style="color: #228B22; background: #FFFFFF;">    % nearly singular matrices</span><br/>       <span style="color: #0000FF">    161 </span><span style="color: #000000; font-weight: bold">  96</span> <span style="color: #000000; background: #FFFFFF;">    warningstate1 = warning('off', 'MATLAB:nearlySingularMatrix'); </span><br/>       <span style="color: #0000FF">    161 </span><span style="color: #000000; font-weight: bold">  97</span> <span style="color: #000000; background: #FFFFFF;">    warningstate2 = warning('off', 'MATLAB:singularMatrix'); </span><br/>       <span style="color: #0000FF">    161 </span><span style="color: #000000; font-weight: bold">  98</span> <span style="color: #000000; background: #FFFFFF;">    sneg = L' \ elem; </span><br/>               <span style="color: #A0A0A0">  99</span> <span style="color: #228B22; background: #FFFFFF;">    % Restore the warning states to their original settings</span><br/>       <span style="color: #0000FF">    161 </span><span style="color: #000000; font-weight: bold"> 100</span> <span style="color: #000000; background: #FFFFFF;">    warning(warningstate1) </span><br/><span style="color: #FF0000">  0.01 </span><span style="color: #0000FF">    161 </span><span style="color: #000000; font-weight: bold"> 101</span> <a name="Line101"></a><span style="color: #000000; background: #FFC6C6;">    warning(warningstate2) </span><br/>               <span style="color: #A0A0A0"> 102</span> <span style="color: #228B22; background: #FFFFFF;">else</span><br/>               <span style="color: #A0A0A0"> 103</span> <span style="color: #A0A0A0; background: #FFFFFF;">    L(n,n) = sqrt(A(n,n));</span><br/>               <span style="color: #A0A0A0"> 104</span> <span style="color: #A0A0A0; background: #FFFFFF;">end</span><br/></pre><p><p>Other subfunctions in this file are not included in this listing.</body></html>